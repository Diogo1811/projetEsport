{% extends 'base.html.twig' %}

{% block title %}Ajoutez un nouveau roster !{% endblock %}

{% block body %}
        
    {# if the var edit is set it means we are in a modify form not in an add one so we adjust the title #}
    {% if edit %}
        <h1>Modifier {{ edit.team }}</h1>
    {% else %}
        <h1>Ajouter un nouveau roster</h1>
    {% endif %}
        
    {# First form is the FUNCTION the second one is the var creates in the controller #}
    {{ form_start(form) }}

        <article>
            {{ form_row(form.startDate) }}
            {{ form_row(form.endDate) }}
        </article>

        <div class="form-group row ">


            <div class="col-form-label col-sm-2">&nbsp;</div>

            <div id="playerRoster-fields-list" class="col-sm-10 remove-collection-widget"

                data-prototype="{{ form_widget(form.playerRosters.vars.prototype)|e }}"

                data-roster="{{rosterId}}"

                data-widget-tags="{{ '<p></p>'|e }}"

                data-widget-counter="{{ form.playerRosters|length }}">

            {% for playerRosterField in form.playerRosters %}

                <p>

                    {{ form_errors(playerRosterField) }}

                    {{ form_widget(playerRosterField, {'attr': {'class': 'borders'}}) }}
                </p>

            {% endfor %}

            </div>

            <div class="borders remove-collection-widget"></div>

        </div>
        <div class="form-group row flex-action">

            <button type="button" 

                class="add-another-collection-widget button btn btn-success"
                data-list-selector="#playerRoster-fields-list">Ajouter un joueur au roster
                
            </button>

        </div>

        {# {% include "./player/playerForm.html.twig" %} #}

       
    {{ form_end(form) }}
   
{% endblock %}