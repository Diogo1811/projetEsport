{% extends 'base.html.twig' %}

{% block title %}Ajoutez un éditeur de jeux !{% endblock %}

{% block body %}
        
    {# if the var edit is set it means we are in a modify form not in an add one so we adjust the title #}
    {% if edit %}
        <h1>Modifier {{ edit }}</h1>
    {% else %}
        <h1>Ajouter un éditeur de jeux !</h1>
    {% endif %}
        
    {# First form is the FUNCTION the second one is the var creates in the controller #}
    {{ form_start(form) }}

        {{ form_row(form.name) }}
        {{ form_row(form.creationDate) }}
        {{ form_row(form.city) }}

        <label for="searchInput">Dans quel pays est situé le siège social de l'éditeur ?</label>
        {% include "searchBarCountry.html.twig" %}


        {{ form_row(form.linkToOfficialPage) }}

        {# Button to add the differents social medias #}
        <div class="form-group row ">


            <div class="col-form-label col-sm-2">&nbsp;</div>

            <div id="socialMediaAccount-fields-list" class="col-sm-10 remove-collection-widget"

                data-prototype="{{ form_widget(form.socialMediaAccounts.vars.prototype)|e }}"

                data-editor="{{editorId}}"

                data-widget-tags="{{ '<p></p>'|e }}"

                data-widget-counter="{{ form.socialMediaAccounts|length }}">

            {% for socialMediaAccountField in form.socialMediaAccounts %}

                <p>

                    {{ form_errors(socialMediaAccountField) }}

                    {{ form_widget(socialMediaAccountField, {'attr': {'class': 'borders'}}) }}
                </p>

            {% endfor %}

            </div>

            <div class="borders remove-collection-widget"></div>

        </div>
        <div class="form-group row flex-action">

            <button type="button" 

                class="add-another-collection-widget button btn btn-success"
                data-list-selector="#socialMediaAccount-fields-list">Ajouter un nouveau réseau social
                
            </button>

        </div>



    {{ form_end(form) }}
   
{% endblock %}